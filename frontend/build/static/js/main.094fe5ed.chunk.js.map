{"version":3,"sources":["components/board-box.js","utils/functions.js","components/board.js","components/scoreboard.js","App.js","index.js"],"names":["Box","props","className","darkMode","onClick","disabled","buttonDisabled","value","findWinner","boxes","rows","i","length","a","b","c","areAllBoxesClicked","count","forEach","item","Board","state","Array","fill","history","playerOneName","playerTwoName","xIsNext","room","roomcode","joined","joineds","client","W3CWebSocket","handleBoardRestart","setState","send","JSON","stringify","event","index","this","slice","utils","push","data","message","player","connect","onopen","console","log","err","onclose","e","reason","setTimeout","onmessage","parse","status","winner","isFilled","axios","post","title","text","to","type","onChange","onDarkModeToggle","checked","handleBoxClick","map","move","React","Component","Scoreboard","refreshList","get","then","response","Promise","all","historyItem","historyData","scoreboard","catch","error","handleInputChange","preventDefault","stateKey","target","dataset","name","stateValue","nameChangeHandler","handleNameValidation","onPressCreate","roomId","shortid","generate","substring","Swal","fire","position","allowOutsideClick","width","padding","customClass","heightAuto","popup","confirmButton","onPressJoin","input","inputPlaceholder","showCancelButton","confirmButtonColor","confirmButtonText","cancelButton","result","id","placeholder","data-name","hidden","htmlFor","leader","key","App","localStorage","getItem","handlePlayerNameChange","join","handleDarkModeToggle","setItem","exact","path","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"mTAEaA,EAAM,SAACC,GAClB,OACE,wBACEC,UAAWD,EAAME,SAAW,6BAA+B,aAC3DC,QAASH,EAAMG,QACfC,SAAUJ,EAAMK,eAHlB,SAKGL,EAAMM,S,QCTN,SAASC,EAAWC,GAY1B,IAXA,IAAMC,EAAO,CACZ,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAGCC,EAAI,EAAGA,EAAID,EAAKE,OAAQD,IAAK,CACrC,kBAAkBD,EAAKC,GAAvB,GAAOE,EAAP,KAAUC,EAAV,KAAaC,EAAb,KAEA,GAAIN,EAAMI,IAAMJ,EAAMI,KAAOJ,EAAMK,IAAML,EAAMI,KAAOJ,EAAMM,GAC3D,OAAON,EAAMI,GAIf,OAAO,KAGD,SAASG,EAAmBP,GAClC,IAAIQ,EAAQ,EAQZ,OANAR,EAAMS,SAAQ,SAAUC,GACV,OAATA,GACHF,OAIW,IAAVA,ECvBG,IAAMG,EAAb,4MACEC,MAAQ,CACNZ,MAAOa,MAAM,GAAGC,KAAK,MACrBC,QAAS,GACTC,cAAe,EAAKxB,MAAMoB,MAAMI,cAChCC,cAAe,EAAKzB,MAAMoB,MAAMK,cAChCC,SAAS,EACTC,KAAM,EAAK3B,MAAMoB,MAAMQ,SACvBC,OAAQ,EAAK7B,MAAMoB,MAAMU,QACzBzB,gBAAgB,GATpB,EAYE0B,OAAS,IAAIC,eACX,qCAAuC,EAAKZ,MAAMO,KAAO,KAb7D,EA4EEM,mBAAqB,WACnB,EAAKC,SAAS,CACZ1B,MAAOa,MAAM,GAAGC,KAAK,MACrBC,QAAS,GACTG,QAAS,EAAKN,MAAMM,UAQtB,EAAKK,OAAOI,KAAKC,KAAKC,UAJX,CACTC,MAAO,UArFb,oDAgBE,SAAeC,GACb,IAAM/B,EAAQgC,KAAKpB,MAAMZ,MAAMiC,QAE3BlB,EAAUiB,KAAKpB,MAAMG,QAEzB,IAAImB,EAAiBlC,KAAUA,EAAM+B,KAIG,IAApCG,EAAyBlC,KAI7BA,EAAM+B,GAASC,KAAKpB,MAAMM,QAAU,IAAM,IAE1CH,EAAQoB,KACNH,KAAKpB,MAAMM,QAAUc,KAAKpB,MAAMI,cAAgBgB,KAAKpB,MAAMK,eAkBzDe,KAAKpB,MAAMM,UAAYc,KAAKxC,MAAMoB,MAAMS,QAAQ,CAClD,IAAIe,EAAO,CACTN,MAAO,OACPO,QAAS,CACPN,MAAO/B,EACPsC,OAAQN,KAAKpB,MAAMM,QACfc,KAAKpB,MAAMI,cACXgB,KAAKpB,MAAMK,cAEfC,QAASc,KAAKpB,MAAMM,QACpBH,QAASiB,KAAKpB,MAAMG,UAKxBiB,KAAKT,OAAOI,KAAKC,KAAKC,UAAUO,IAGhCJ,KAAKN,SAAS,CACZ1B,MAAOA,EACPe,QAASA,EACTG,SAAUc,KAAKpB,MAAMM,aAvE7B,sEA4FE,iBAGWqB,EAHX,gBAAAnC,EAAA,sDAGWmC,EAHX,WAGsB,IAAD,OACjB,IACEP,KAAKT,OAAOiB,OAAS,WAQnB,EAAKjB,OAAOI,KAAKC,KAAKC,UALX,CACTC,MAAO,QACPO,QAAS,MAKXI,QAAQC,IAAI,+BAEd,MAAOC,GACPF,QAAQC,IAAIC,EAAIN,SACf,MAlBLI,QAAQC,IAAIV,KAAKT,QAsBjBW,EAAiBF,KAAKpB,MAAMZ,OAE5BgC,KAAKT,OAAOqB,QAAU,SAAUC,GAC9BJ,QAAQC,IACN,6DACAG,EAAEC,QAEJC,YAAW,WACTR,MACC,MAGLP,KAAKT,OAAOyB,UAAY,SAACH,GACvB,IAAIT,EAAOR,KAAKqB,MAAMJ,EAAET,MAEpBC,GADJD,EAAOA,EAAI,SACO,QAElB,OADYA,EAAI,OAEd,IAAK,QACH,EAAKX,qBACL,MAEF,IAAK,OACCY,EAAO,SAQTI,QAAQC,IAAI,EAAK9B,MAAMS,QACvB,EAAKK,UAAS,SAACd,GAAD,MAAY,CACxBZ,MAAOqC,EAAO,MACdnB,SAAUmB,EAAO,QACjBtB,QAASsB,EAAO,aAIpB,MACF,QACEI,QAAQC,IAAI,cAhEpB,gDA5FF,0EAiKE,WAAU,IAIJQ,EAJG,OACDC,EAASjB,EAAiBF,KAAKpB,MAAMZ,OACrCoD,EAAWlB,EAAyBF,KAAKpB,MAAMZ,OA6BrD,OAzBImD,GACFV,QAAQC,IAAI,GACZQ,EAAM,yBACO,MAAXC,EAAiBnB,KAAKpB,MAAMI,cAAgBgB,KAAKpB,MAAMK,cADnD,KAINoC,IAAMC,KAAK,4CAA6C,CACtDC,MAAM,GAAD,OACQ,MAAXJ,EAAiBnB,KAAKpB,MAAMI,cAAgBgB,KAAKpB,MAAMK,cADpD,QAGLuC,KAAM,OAEEL,GAAUC,GACpBF,EAAS,cAETG,IAAMC,KAAK,4CAA6C,CACtDC,MAAU,aACVC,KAAM,MAGRN,EAAM,gBACJlB,KAAKpB,MAAMM,QAAUc,KAAKpB,MAAMI,cAAgBgB,KAAKpB,MAAMK,cADvD,YAMN,sBACExB,UAAWuC,KAAKxC,MAAME,SAAW,iBAAmB,mBADtD,UAGE,cAAC,IAAD,CACE+D,GAAG,IACHhE,UACEuC,KAAKxC,MAAME,SACP,uCACA,kBALR,mCAYA,wBAAOD,UAAU,SAAjB,UACE,uBACEiE,KAAK,WACLC,SAAU3B,KAAKxC,MAAMoE,iBACrBC,QAAS7B,KAAKxC,MAAME,WAEtB,sBAAMD,UAAU,cAGlB,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,oBACEA,UACEuC,KAAKxC,MAAME,SACP,mCACA,gBAJR,SAOGwD,IAGH,sBAAKzD,UAAU,YAAf,UACE,cAAC,EAAD,CACEK,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,iBAG7B,cAAC,EAAD,CACEC,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,iBAG7B,cAAC,EAAD,CACEC,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,oBAI/B,sBAAKJ,UAAU,YAAf,UACE,cAAC,EAAD,CACEK,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,iBAG7B,cAAC,EAAD,CACEC,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,iBAG7B,cAAC,EAAD,CACEC,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,oBAI/B,sBAAKJ,UAAU,YAAf,UACE,cAAC,EAAD,CACEK,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,iBAG7B,cAAC,EAAD,CACEC,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,iBAG7B,cAAC,EAAD,CACEC,MAAOkC,KAAKpB,MAAMZ,MAAM,GACxBL,QAAS,kBAAM,EAAKmE,eAAe,IACnCpE,SAAUsC,KAAKxC,MAAME,SACrBG,eAAgBmC,KAAKpB,MAAMf,uBAKjC,sBAAKJ,UAAU,gBAAf,UACE,oBACEA,UACEuC,KAAKxC,MAAME,SACP,mCACA,gBAJR,4BAUA,qBACED,UACEuC,KAAKxC,MAAME,SACP,6CACA,qBAJR,UAOiC,IAA9BsC,KAAKpB,MAAMG,QAAQZ,QAClB,qDAG6B,IAA9B6B,KAAKpB,MAAMG,QAAQZ,QAClB6B,KAAKpB,MAAMG,QAAQgD,KAAI,SAACC,EAAMjC,GAC5B,OACE,uCACQA,EAAQ,EADhB,KACoB,iCAASiC,MADpBjC,YAQlBoB,GACC,wBACE1D,UAAU,iBACVE,QAASqC,KAAKP,mBAFhB,6BAOA0B,GAAUC,GACV,wBACE3D,UAAU,iBACVE,QAASqC,KAAKP,mBAFhB,sCArVZ,GAA2BwC,IAAMC,W,kCCFpBC,EAAb,kDACE,WAAY3E,GAAQ,IAAD,8BACjB,cAAMA,IAcR4E,YAAc,WACZf,IACGgB,IAAI,4CACJC,MAAK,SAACC,GACLC,QAAQC,IACNF,EAASnC,KAAK2B,KAAI,SAACW,GACjB,OAAOA,EAAYnB,UAErBe,MAAK,SAACK,GACN,EAAKjD,SAAS,CAAEkD,WAAYD,UAG/BE,OAAM,SAACC,GAAD,OAAWrC,QAAQqC,MAAMA,OA3BjB,EA8BnBC,kBAAoB,SAACjD,GACnBA,EAAMkD,iBAEN,IAAIC,EAAWnD,EAAMoD,OAAOC,QAAQC,KAChCC,EAAavD,EAAMoD,OAAOpF,MAC9B2C,QAAQC,IAAI,EAAK9B,MAAMQ,UACvB,EAAKM,SAAL,eACGuD,EAAWI,IAGd,EAAK7F,MAAM8F,kBAAkBL,EAAUI,GACvC5C,QAAQC,IAAI,OAzCK,EA4CnB6C,qBAAuB,SAACzD,GAEgB,IAApC,EAAKlB,MAAMI,cAAcb,QACW,IAApC,EAAKS,MAAMK,cAAcd,QAIzB2B,EAAMkD,kBAnDS,EAyDnBQ,cAAgB,SAAC3C,GAEf,IAAM4C,EAASC,IAAQC,WAAWC,UAAU,EAAG,GAG/CC,IAAKC,KAAK,CACRC,SAAU,MACVC,mBAAmB,EACnBzC,MAAO,sCACPC,KAAMiC,EACNQ,MAAO,IACPC,QAAS,QAETC,YAAa,CACXC,YAAY,EACZ7C,MAAO,cACP8C,MAAO,cACPC,cAAe,kBAInB,EAAK5E,SAAS,CACZN,SAAUqE,IAEZ,EAAKjG,MAAM8F,kBAAkB,WAAYG,GAAQ,IAjFhC,EAqFnBc,YAAc,SAAC1D,GACbgD,IAAKC,KAAK,CACRC,SAAU,MACVS,MAAO,OACPR,mBAAmB,EACnBS,iBAAkB,oBAClBC,kBAAkB,EAClBC,mBAAoB,iBACpBC,kBAAmB,KACnBX,MAAO,IACPC,QAAS,QACTC,YAAa,CACXC,YAAY,EACZC,MAAO,cACPC,cAAe,qBACfO,aAAc,uBAEfvC,MAAK,SAACwC,GAEHA,EAAOhH,QACT2C,QAAQC,IAAIoE,EAAOhH,OACnB,EAAK4B,SAAS,CACZN,SAAU0F,EAAOhH,QAEnB,EAAKN,MAAM8F,kBAAkB,WAAYwB,EAAOhH,OAAO,QA1G3D,EAAKc,MAAQ,CACXI,cAAe,EAAKxB,MAAMoB,MAAMI,cAChCC,cAAe,EAAKzB,MAAMoB,MAAMK,cAChC2D,WAAY,GACZxD,SAAU,EAAK5B,MAAMoB,MAAMQ,UAPZ,EADrB,4FAYE,sBAAAhB,EAAA,sDACE4B,KAAKoC,cADP,gDAZF,0EAmHE,WAAU,IAAD,OACP,OACE,sBACE3E,UACEuC,KAAKxC,MAAME,SAAW,iBAAmB,wBAF7C,UAKE,oBACED,UACEuC,KAAKxC,MAAME,SACP,2CACA,oBAJR,8BAUA,wBAAOD,UAAU,SAAjB,UACE,uBACEiE,KAAK,WACLC,SAAU3B,KAAKxC,MAAMoE,iBACrBC,QAAS7B,KAAKxC,MAAME,WAEtB,sBAAMD,UAAU,cAGlB,oBACEA,UACEuC,KAAKxC,MAAME,SACP,iDACA,uBAJR,4CASA,qBACED,UACEuC,KAAKxC,MAAME,SACP,iDACA,uBAJR,SAOE,uBACEqH,GAAG,WACHtH,UACEuC,KAAKxC,MAAME,SACP,2CACA,oBAENgE,KAAK,OACL5D,MAAOkC,KAAKpB,MAAMQ,SAClB4F,YAAY,uBACZrD,SAAU3B,KAAK+C,kBACfkC,YAAU,WACVrH,SAAUoC,KAAKpB,MAAMQ,SAASjB,OAAS,EACvC+G,QAAQ,MAGZ,uBAEA,sBAAKzH,UAAU,oBAAf,UACE,sBACEA,UACEuC,KAAKxC,MAAME,SACP,iDACA,uBAJR,UAOE,uBAAOyH,QAAQ,gBAAf,kCAEA,uBACEJ,GAAG,gBACHtH,UACEuC,KAAKxC,MAAME,SACP,2CACA,oBAENgE,KAAK,OACL5D,MAAOkC,KAAKpB,MAAMI,cAElBpB,UAAU,EACVqH,YAAU,qBAId,sBACExH,UACEuC,KAAKxC,MAAME,SACP,iDACA,uBAJR,UAOE,uBAAOyH,QAAQ,gBAAf,kCAEA,uBACEJ,GAAG,gBACHtH,UACEuC,KAAKxC,MAAME,SACP,2CACA,oBAENgE,KAAK,OACL5D,MAAOkC,KAAKpB,MAAMK,cAElBrB,UAAU,EACVqH,YAAU,wBAKfjF,KAAKpB,MAAMQ,SAASjB,QAAU,EAC7B,sBAAKV,UAAU,mBAAf,UACE,yBACEA,UAAU,qCACVE,QAAS,SAACkD,GAAD,OAAO,EAAK2C,iBAFvB,UAIG,IAJH,YAOA,yBACE/F,UAAU,uBACVE,QAAS,SAACkD,GAAD,OAAO,EAAK0D,eAFvB,UAIG,IAJH,aASF,cAAC,IAAD,CACE9C,GAAG,SACH9D,QAASqC,KAAKuD,qBACd9F,UAAU,sBAHZ,4BASF,oBACEA,UACEuC,KAAKxC,MAAME,SACP,iDACA,uBAJR,2BAUkC,IAAjCsC,KAAKpB,MAAMgE,WAAWzE,QACrB,mBAAGV,UAAWuC,KAAKxC,MAAME,SAAW,SAAW,GAA/C,kDAKgC,IAAjCsC,KAAKpB,MAAMgE,WAAWzE,QACrB,oBACEV,UACEuC,KAAKxC,MAAME,SACP,yCACA,mBAJR,SAOGsC,KAAKpB,MAAMgE,WAAWb,KAAI,SAACqD,EAAQC,GAClC,OAAO,oCAAiBD,IAARC,eArR9B,GAAgCpD,IAAMC,WC6DvBoD,G,kNA3Db1G,MAAQ,CACNI,cAAe,IACfC,cAAe,IACfvB,WAAU6H,aAAaC,QAAQ,aAC3B5F,KAAKqB,MAAMsE,aAAaC,QAAQ,aAEpCpG,SAAU,GACVC,QAAQ,G,EAGVoG,uBAAyB,SAACxC,EAAUI,EAAYqC,GAAU,IAAD,EACvD,EAAKhG,UAAL,mBACGuD,EAAWI,GADd,uBAEUqC,GAFV,IAIAjF,QAAQC,IAAI,EAAK9B,MAAMS,S,EAGzBsG,qBAAuB,WACrB,IAAMjI,GAAY,EAAKkB,MAAMlB,SAC7B6H,aAAaK,QAAQ,WAAYhG,KAAKC,UAAUnC,IAChD,EAAKgC,SAAS,CAAEhC,c,4CAGlB,WAAU,IAAD,OACP,OACE,sBAAKD,UAAU,MAAf,UACE,cAAC,IAAD,CACEoI,OAAK,EACLC,KAAK,IACLC,OAAQ,kBACN,cAAC,EAAD,CACEnH,MAAO,EAAKA,MACZ0E,kBAAmB,EAAKmC,uBACxB7D,iBAAkB,EAAK+D,qBACvBjI,SAAU,EAAKkB,MAAMlB,SACrB0B,SAAU,EAAKR,MAAMQ,cAK3B,cAAC,IAAD,CACE0G,KAAK,SACLC,OAAQ,kBACN,cAAC,EAAD,CACEnH,MAAO,EAAKA,MACZ0E,kBAAmB,EAAKmC,uBACxB7D,iBAAkB,EAAK+D,qBACvBjI,SAAU,EAAKkB,MAAMlB,SACrB0B,SAAU,EAAKR,MAAMQ,SACrBC,OAAQ,EAAKT,MAAMS,mB,GAnDf4C,IAAMC,YCDxB8D,IAASD,OACP,cAAC,IAAD,UACE,cAAC,IAAME,WAAP,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.094fe5ed.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const Box = (props) => {\r\n  return (\r\n    <button\r\n      className={props.darkMode ? \"board__box board__box-dark\" : \"board__box\"}\r\n      onClick={props.onClick}\r\n      disabled={props.buttonDisabled}\r\n    >\r\n      {props.value}\r\n    </button>\r\n  );\r\n};\r\n","export function findWinner(boxes) {\r\n\tconst rows = [\r\n\t\t[0, 1, 2],\r\n\t\t[3, 4, 5],\r\n\t\t[6, 7, 8],\r\n\t\t[0, 3, 6],\r\n\t\t[1, 4, 7],\r\n\t\t[2, 5, 8],\r\n\t\t[0, 4, 8],\r\n\t\t[2, 4, 6],\r\n\t]\r\n\r\n\tfor (let i = 0; i < rows.length; i++) {\r\n\t\tconst [a, b, c] = rows[i]\r\n\r\n\t\tif (boxes[a] && boxes[a] === boxes[b] && boxes[a] === boxes[c]) {\r\n\t\t\treturn boxes[a]\r\n\t\t}\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport function areAllBoxesClicked(boxes) {\r\n\tlet count = 0\r\n\r\n\tboxes.forEach(function (item) {\r\n\t\tif (item !== null) {\r\n\t\t\tcount++\r\n\t\t}\r\n\t})\r\n\r\n\tif(count === 9) {\r\n\t\treturn true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { Box } from \"./board-box\";\r\n\r\nimport * as utils from \"../utils/functions\";\r\n\r\nexport class Board extends React.Component {\r\n  state = {\r\n    boxes: Array(9).fill(null),\r\n    history: [],\r\n    playerOneName: this.props.state.playerOneName,\r\n    playerTwoName: this.props.state.playerTwoName,\r\n    xIsNext: true,\r\n    room: this.props.state.roomcode,\r\n    joined: this.props.state.joineds,\r\n    buttonDisabled: false,\r\n  };\r\n\r\n  client = new W3CWebSocket(\r\n    \"wss://jedah.herokuapp.com/ws/play/\" + this.state.room + \"/\"\r\n  );\r\n\r\n  handleBoxClick(index) {\r\n    const boxes = this.state.boxes.slice();\r\n\r\n    let history = this.state.history;\r\n\r\n    if (utils.findWinner(boxes) || boxes[index]) {\r\n      return;\r\n    }\r\n\r\n    if (utils.areAllBoxesClicked(boxes) === true) {\r\n      return;\r\n    }\r\n\r\n    boxes[index] = this.state.xIsNext ? \"x\" : \"o\";\r\n\r\n    history.push(\r\n      this.state.xIsNext ? this.state.playerOneName : this.state.playerTwoName\r\n    );\r\n    ///////////////////////////////////////\r\n    // console.log(this.props.state.joined + \"bbbbbbbb\");\r\n    // console.log(this.state.xIsNext + \"ccccccc\");\r\n    // if (this.state.xIsNext === this.props.state.joined) {\r\n    //   this.setState({\r\n    //     buttonDisabled: true,\r\n    //   });\r\n    //   console.log(this.state.xIsNext + \"dddddd\");\r\n    // } else {\r\n    //   this.setState({\r\n    //     buttonDisabled: false,\r\n    //   });\r\n    //   console.log(this.state.xIsNext + \"eeeeeeee\");\r\n    // }\r\n    //////////////////////////////////////\r\n    /////////\r\n    if (this.state.xIsNext === this.props.state.joined) {\r\n      let data = {\r\n        event: \"MOVE\",\r\n        message: {\r\n          index: boxes,\r\n          player: this.state.xIsNext\r\n            ? this.state.playerOneName\r\n            : this.state.playerTwoName,\r\n\r\n          xIsNext: this.state.xIsNext,\r\n          history: this.state.history,\r\n          //joined: this.state.joined ? true : false,\r\n        },\r\n      };\r\n\r\n      this.client.send(JSON.stringify(data));\r\n      ///////\r\n\r\n      this.setState({\r\n        boxes: boxes,\r\n        history: history,\r\n        xIsNext: !this.state.xIsNext,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleBoardRestart = () => {\r\n    this.setState({\r\n      boxes: Array(9).fill(null),\r\n      history: [],\r\n      xIsNext: this.state.xIsNext,\r\n    });\r\n    /////////\r\n\r\n    let data = {\r\n      event: \"END\",\r\n    };\r\n\r\n    this.client.send(JSON.stringify(data));\r\n    ///////\r\n  };\r\n\r\n  async componentDidMount() {\r\n    console.log(this.client);\r\n\r\n    function connect() {\r\n      try {\r\n        this.client.onopen = () => {\r\n          /////////\r\n\r\n          let data = {\r\n            event: \"START\",\r\n            message: \"\",\r\n          };\r\n\r\n          this.client.send(JSON.stringify(data));\r\n          ///////\r\n          console.log(\"WebSocket Client Connected\");\r\n        };\r\n      } catch (err) {\r\n        console.log(err.message);\r\n        <Redirect to=\"/\" />;\r\n      }\r\n    }\r\n\r\n    utils.findWinner(this.state.boxes);\r\n\r\n    this.client.onclose = function (e) {\r\n      console.log(\r\n        \"Socket is closed. Reconnect will be attempted in 1 second.\",\r\n        e.reason\r\n      );\r\n      setTimeout(function () {\r\n        connect();\r\n      }, 1000);\r\n    };\r\n\r\n    this.client.onmessage = (e) => {\r\n      let data = JSON.parse(e.data);\r\n      data = data[\"payload\"];\r\n      let message = data[\"message\"];\r\n      let event = data[\"event\"];\r\n      switch (event) {\r\n        case \"START\":\r\n          this.handleBoardRestart();\r\n          break;\r\n\r\n        case \"MOVE\":\r\n          if (message[\"player\"]) {\r\n            // make_move(message[\"index\"], message[\"player\"]);\r\n            //////////this.handleBoxClick(message[\"index\"]);\r\n            // this.setState({\r\n            //   boxes: message[\"index\"],\r\n            // });\r\n\r\n            //document.getElementById(\"alert_move\").style.display = \"inline\";\r\n            console.log(this.state.joined);\r\n            this.setState((state) => ({\r\n              boxes: message[\"index\"],\r\n              xIsNext: !message[\"xIsNext\"],\r\n              history: message[\"history\"],\r\n              //joined: message[\"joined\"],\r\n            }));\r\n          }\r\n          break;\r\n        default:\r\n          console.log(\"No event\");\r\n      }\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const winner = utils.findWinner(this.state.boxes);\r\n    const isFilled = utils.areAllBoxesClicked(this.state.boxes);\r\n\r\n    let status;\r\n\r\n    if (winner) {\r\n      console.log(9);\r\n      status = `The winner is: ${\r\n        winner === \"x\" ? this.state.playerOneName : this.state.playerTwoName\r\n      }!`;\r\n\r\n      axios.post(\"https://jedah.herokuapp.com/api/historys/\", {\r\n        title: `${\r\n          winner === \"x\" ? this.state.playerOneName : this.state.playerTwoName\r\n        } won`,\r\n        text: \"\",\r\n      });\r\n    } else if (!winner && isFilled) {\r\n      status = \"Game drawn!\";\r\n\r\n      axios.post(\"https://jedah.herokuapp.com/api/historys/\", {\r\n        title: `${\"Game drawn\"}`,\r\n        text: \"\",\r\n      });\r\n    } else {\r\n      status = `It is ${\r\n        this.state.xIsNext ? this.state.playerOneName : this.state.playerTwoName\r\n      }'s turn.`;\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={this.props.darkMode ? \"view view-dark\" : \"view view--board\"}\r\n      >\r\n        <Link\r\n          to=\"/\"\r\n          className={\r\n            this.props.darkMode\r\n              ? \"board-back-link-dark board-back-link\"\r\n              : \"board-back-link\"\r\n          }\r\n        >\r\n          Go back to scoreboard\r\n        </Link>\r\n\r\n        {/* dark mode switch */}\r\n        <label className=\"switch\">\r\n          <input\r\n            type=\"checkbox\"\r\n            onChange={this.props.onDarkModeToggle}\r\n            checked={this.props.darkMode}\r\n          />\r\n          <span className=\"slider\"></span>\r\n        </label>\r\n\r\n        <div className=\"board-wrapper\">\r\n          <div className=\"board\">\r\n            <h2\r\n              className={\r\n                this.props.darkMode\r\n                  ? \"board-heading board-heading-dark\"\r\n                  : \"board-heading\"\r\n              }\r\n            >\r\n              {status}\r\n            </h2>\r\n\r\n            <div className=\"board-row\">\r\n              <Box\r\n                value={this.state.boxes[0]}\r\n                onClick={() => this.handleBoxClick(0)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n\r\n              <Box\r\n                value={this.state.boxes[1]}\r\n                onClick={() => this.handleBoxClick(1)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n\r\n              <Box\r\n                value={this.state.boxes[2]}\r\n                onClick={() => this.handleBoxClick(2)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"board-row\">\r\n              <Box\r\n                value={this.state.boxes[3]}\r\n                onClick={() => this.handleBoxClick(3)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n\r\n              <Box\r\n                value={this.state.boxes[4]}\r\n                onClick={() => this.handleBoxClick(4)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n\r\n              <Box\r\n                value={this.state.boxes[5]}\r\n                onClick={() => this.handleBoxClick(5)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"board-row\">\r\n              <Box\r\n                value={this.state.boxes[6]}\r\n                onClick={() => this.handleBoxClick(6)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n\r\n              <Box\r\n                value={this.state.boxes[7]}\r\n                onClick={() => this.handleBoxClick(7)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n\r\n              <Box\r\n                value={this.state.boxes[8]}\r\n                onClick={() => this.handleBoxClick(8)}\r\n                darkMode={this.props.darkMode}\r\n                buttonDisabled={this.state.buttonDisabled}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"board-history\">\r\n            <h2\r\n              className={\r\n                this.props.darkMode\r\n                  ? \"board-heading board-heading-dark\"\r\n                  : \"board-heading\"\r\n              }\r\n            >\r\n              Moves history:\r\n            </h2>\r\n\r\n            <ul\r\n              className={\r\n                this.props.darkMode\r\n                  ? \"board-history-list board-history-list-dark\"\r\n                  : \"board-history-list\"\r\n              }\r\n            >\r\n              {this.state.history.length === 0 && (\r\n                <span>No moves to show.</span>\r\n              )}\r\n\r\n              {this.state.history.length !== 0 &&\r\n                this.state.history.map((move, index) => {\r\n                  return (\r\n                    <li key={index}>\r\n                      Move {index + 1}: <strong>{move}</strong>\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </div>\r\n\r\n          {winner && (\r\n            <button\r\n              className=\"board__btn btn\"\r\n              onClick={this.handleBoardRestart}\r\n            >\r\n              Start new game\r\n            </button>\r\n          )}\r\n          {!winner && isFilled && (\r\n            <button\r\n              className=\"board__btn btn\"\r\n              onClick={this.handleBoardRestart}\r\n            >\r\n              Start new game\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport Swal from \"sweetalert2\";\r\nimport shortid from \"shortid\";\r\n\r\nexport class Scoreboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      playerOneName: this.props.state.playerOneName,\r\n      playerTwoName: this.props.state.playerTwoName,\r\n      scoreboard: [],\r\n      roomcode: this.props.state.roomcode,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.refreshList();\r\n  }\r\n\r\n  refreshList = () => {\r\n    axios\r\n      .get(\"https://jedah.herokuapp.com/api/historys\")\r\n      .then((response) => {\r\n        Promise.all(\r\n          response.data.map((historyItem) => {\r\n            return historyItem.title;\r\n          })\r\n        ).then((historyData) => {\r\n          this.setState({ scoreboard: historyData });\r\n        });\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  handleInputChange = (event) => {\r\n    event.preventDefault();\r\n\r\n    let stateKey = event.target.dataset.name;\r\n    let stateValue = event.target.value;\r\n    console.log(this.state.roomcode);\r\n    this.setState({\r\n      [stateKey]: stateValue,\r\n    });\r\n\r\n    this.props.nameChangeHandler(stateKey, stateValue);\r\n    console.log(\"me\");\r\n  };\r\n\r\n  handleNameValidation = (event) => {\r\n    if (\r\n      this.state.playerOneName.length !== 0 &&\r\n      this.state.playerTwoName.length !== 0\r\n    ) {\r\n      return;\r\n    } else {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n  ////////////////////////////////////\r\n  // Open the modal\r\n  // Create a room channel\r\n  onPressCreate = (e) => {\r\n    // Create a random name for the channel\r\n    const roomId = shortid.generate().substring(0, 5);\r\n\r\n    // Open the modal\r\n    Swal.fire({\r\n      position: \"top\",\r\n      allowOutsideClick: false,\r\n      title: \"Share this Game ID with your friend\",\r\n      text: roomId,\r\n      width: 275,\r\n      padding: \"0.7em\",\r\n      // Custom CSS\r\n      customClass: {\r\n        heightAuto: false,\r\n        title: \"title-class\",\r\n        popup: \"popup-class\",\r\n        confirmButton: \"button-class\",\r\n      },\r\n    });\r\n\r\n    this.setState({\r\n      roomcode: roomId,\r\n    });\r\n    this.props.nameChangeHandler(\"roomcode\", roomId, true);\r\n  };\r\n\r\n  // The 'Join' button was pressed\r\n  onPressJoin = (e) => {\r\n    Swal.fire({\r\n      position: \"top\",\r\n      input: \"text\",\r\n      allowOutsideClick: false,\r\n      inputPlaceholder: \"Enter the Game ID\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"rgb(208,33,41)\",\r\n      confirmButtonText: \"OK\",\r\n      width: 275,\r\n      padding: \"0.7em\",\r\n      customClass: {\r\n        heightAuto: false,\r\n        popup: \"popup-class\",\r\n        confirmButton: \"join-button-class \",\r\n        cancelButton: \"join-button-class\",\r\n      },\r\n    }).then((result) => {\r\n      // Check if the user typed a value in the input field\r\n      if (result.value) {\r\n        console.log(result.value);\r\n        this.setState({\r\n          roomcode: result.value,\r\n        });\r\n        this.props.nameChangeHandler(\"roomcode\", result.value, false);\r\n      }\r\n    });\r\n  };\r\n  ///////////////////////////////////\r\n  render() {\r\n    return (\r\n      <div\r\n        className={\r\n          this.props.darkMode ? \"view view-dark\" : \"view view--scoreboard\"\r\n        }\r\n      >\r\n        <h1\r\n          className={\r\n            this.props.darkMode\r\n              ? \"scoreboard__title scoreboard__title-dark\"\r\n              : \"scoreboard__title\"\r\n          }\r\n        >\r\n          Welcome to Jedah\r\n        </h1>\r\n        {/* dark mode switch */}\r\n        <label className=\"switch\">\r\n          <input\r\n            type=\"checkbox\"\r\n            onChange={this.props.onDarkModeToggle}\r\n            checked={this.props.darkMode}\r\n          />\r\n          <span className=\"slider\"></span>\r\n        </label>\r\n\r\n        <h2\r\n          className={\r\n            this.props.darkMode\r\n              ? \"scoreboard__subtitle scoreboard__subtitle-dark\"\r\n              : \"scoreboard__subtitle\"\r\n          }\r\n        >\r\n          Would you like to play a game?\r\n        </h2>\r\n        <div\r\n          className={\r\n            this.props.darkMode\r\n              ? \"scoreboard__name-box scoreboard__name-box-dark\"\r\n              : \"scoreboard__name-box\"\r\n          }\r\n        >\r\n          <input\r\n            id=\"roomcode\"\r\n            className={\r\n              this.props.darkMode\r\n                ? \"scoreboard__input scoreboard__input-dark\"\r\n                : \"scoreboard__input\"\r\n            }\r\n            type=\"text\"\r\n            value={this.state.roomcode}\r\n            placeholder=\"input 4 digit gameid\"\r\n            onChange={this.handleInputChange}\r\n            data-name=\"roomcode\"\r\n            disabled={this.state.roomcode.length > 3 ? true : false}\r\n            hidden={true}\r\n          />\r\n        </div>\r\n        <br></br>\r\n\r\n        <div className=\"scoreboard__names\">\r\n          <div\r\n            className={\r\n              this.props.darkMode\r\n                ? \"scoreboard__name-box scoreboard__name-box-dark\"\r\n                : \"scoreboard__name-box\"\r\n            }\r\n          >\r\n            <label htmlFor=\"playerOneName\">Player one name (x):</label>\r\n\r\n            <input\r\n              id=\"playerOneName\"\r\n              className={\r\n                this.props.darkMode\r\n                  ? \"scoreboard__input scoreboard__input-dark\"\r\n                  : \"scoreboard__input\"\r\n              }\r\n              type=\"text\"\r\n              value={this.state.playerOneName}\r\n              //onChange={this.handleInputChange}\r\n              disabled={true}\r\n              data-name=\"playerOneName\"\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            className={\r\n              this.props.darkMode\r\n                ? \"scoreboard__name-box scoreboard__name-box-dark\"\r\n                : \"scoreboard__name-box\"\r\n            }\r\n          >\r\n            <label htmlFor=\"playerTwoName\">Player two name (o):</label>\r\n\r\n            <input\r\n              id=\"playerTwoName\"\r\n              className={\r\n                this.props.darkMode\r\n                  ? \"scoreboard__input scoreboard__input-dark\"\r\n                  : \"scoreboard__input\"\r\n              }\r\n              type=\"text\"\r\n              value={this.state.playerTwoName}\r\n              // onChange={this.handleInputChange}\r\n              disabled={true}\r\n              data-name=\"playerTwoName\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.roomcode.length <= 0 ? (\r\n          <div className=\"button-container\">\r\n            <button\r\n              className=\"create-button scoreboard__btn btn \"\r\n              onClick={(e) => this.onPressCreate()}\r\n            >\r\n              {\" \"}\r\n              Create\r\n            </button>\r\n            <button\r\n              className=\" scoreboard__btn btn\"\r\n              onClick={(e) => this.onPressJoin()}\r\n            >\r\n              {\" \"}\r\n              Join\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <Link\r\n            to=\"/board\"\r\n            onClick={this.handleNameValidation}\r\n            className=\"scoreboard__btn btn\"\r\n          >\r\n            Start new game\r\n          </Link>\r\n        )}\r\n\r\n        <h2\r\n          className={\r\n            this.props.darkMode\r\n              ? \"scoreboard__subtitle scoreboard__subtitle-dark\"\r\n              : \"scoreboard__subtitle\"\r\n          }\r\n        >\r\n          Recent games:\r\n        </h2>\r\n\r\n        {this.state.scoreboard.length === 0 && (\r\n          <p className={this.props.darkMode ? \"p-dark\" : \"\"}>\r\n            There are no previous games to show.\r\n          </p>\r\n        )}\r\n\r\n        {this.state.scoreboard.length !== 0 && (\r\n          <ul\r\n            className={\r\n              this.props.darkMode\r\n                ? \"scoreboard__list scoreboard__list-dark\"\r\n                : \"scoreboard__list\"\r\n            }\r\n          >\r\n            {this.state.scoreboard.map((leader, key) => {\r\n              return <li key={key}>- {leader}</li>;\r\n            })}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nimport { Board } from \"./components/board\";\r\nimport { Scoreboard } from \"./components/scoreboard\";\r\n\r\nimport \"./styles/style.css\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    playerOneName: \"x\",\r\n    playerTwoName: \"o\",\r\n    darkMode: localStorage.getItem(\"darkmode\")\r\n      ? JSON.parse(localStorage.getItem(\"darkmode\"))\r\n      : false,\r\n    roomcode: \"\",\r\n    joined: true,\r\n  };\r\n\r\n  handlePlayerNameChange = (stateKey, stateValue, join) => {\r\n    this.setState({\r\n      [stateKey]: stateValue,\r\n      joined: join,\r\n    });\r\n    console.log(this.state.joined);\r\n  };\r\n\r\n  handleDarkModeToggle = () => {\r\n    const darkMode = !this.state.darkMode;\r\n    localStorage.setItem(\"darkmode\", JSON.stringify(darkMode));\r\n    this.setState({ darkMode });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          render={() => (\r\n            <Scoreboard\r\n              state={this.state}\r\n              nameChangeHandler={this.handlePlayerNameChange}\r\n              onDarkModeToggle={this.handleDarkModeToggle}\r\n              darkMode={this.state.darkMode}\r\n              roomcode={this.state.roomcode}\r\n            />\r\n          )}\r\n        />\r\n\r\n        <Route\r\n          path=\"/board\"\r\n          render={() => (\r\n            <Board\r\n              state={this.state}\r\n              nameChangeHandler={this.handlePlayerNameChange}\r\n              onDarkModeToggle={this.handleDarkModeToggle}\r\n              darkMode={this.state.darkMode}\r\n              roomcode={this.state.roomcode}\r\n              joined={this.state.joined}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\n\r\n// import * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}